# ğŸ“’ ç®—æ³•ç¬”è®°ï¼šçƒ˜å¹²è¡£æœ (Radiator)

---

### 1. é¢˜ç›®å¤§æ„

* æœ‰ $n$ ä»¶è¡£æœï¼Œæ°´åˆ†åˆ†åˆ«ä¸º $a_i$ã€‚
* **è‡ªç„¶å¹²ï¼š** æ¯åˆ†é’Ÿæ‰€æœ‰è¡£æœæ°´åˆ†å‡å°‘ $1$ å•ä½ã€‚
* **æš–æ°”è¾…åŠ©ï¼š** æ¯åˆ†é’Ÿä½ å¯ä»¥é€‰**ä¸€ä»¶**è¡£æœæ”¾åœ¨æš–æ°”ä¸Šï¼Œè¯¥è¡£æœæ°´åˆ†å‡å°‘ $k$ å•ä½ï¼ˆæ³¨æ„ï¼šè¿™ $1$ åˆ†é’Ÿå†…å®ƒä¸å†äº«å—è‡ªç„¶å‡å°‘çš„ $1$ï¼Œè€Œæ˜¯ç›´æ¥æ€»å…±å‡å°‘ $k$ï¼‰ã€‚
* **ç›®æ ‡ï¼š** æ±‚çƒ˜å¹²æ‰€æœ‰è¡£æœï¼ˆæ‰€æœ‰ $a_i \le 0$ï¼‰æ‰€éœ€çš„**æœ€çŸ­æ—¶é—´**ã€‚

---

### 2. è§£é¢˜æ ¸å¿ƒï¼šäºŒåˆ†ç­”æ¡ˆ

ç›´æ¥è®¡ç®—æœ€ä¼˜ç­–ç•¥ï¼ˆæ¯åˆ†é’Ÿé€‰å“ªä»¶ï¼‰å¾ˆå›°éš¾ï¼Œä½†åˆ¤æ–­â€œç»™å®šçš„æ—¶é—´ $T$ èƒ½å¦å¹²é€â€éå¸¸ç®€å•ã€‚

* **å•è°ƒæ€§ï¼š** å¦‚æœ $T$ åˆ†é’Ÿèƒ½å¹²é€ï¼Œé‚£ä¹ˆå¤§äº $T$ çš„æ—¶é—´ä¸€å®šä¹Ÿèƒ½å¹²é€ã€‚è¿™ç¬¦åˆäºŒåˆ†æŸ¥æ‰¾çš„ç‰¹å¾ã€‚
* **åˆ¤å®šé€»è¾‘ (`check` å‡½æ•°)ï¼š**
    * åœ¨ $T$ åˆ†é’Ÿå†…ï¼Œæ¯ä»¶è¡£æœè‡ªç„¶è’¸å‘ $T$ å•ä½æ°´åˆ†ã€‚
    * è‹¥ $a_i \le T$ï¼Œè¡£æœé è‡ªç„¶å¹²å³å¯ï¼Œæ— éœ€æš–æ°”ã€‚
    * è‹¥ $a_i > T$ï¼Œå‰©ä½™æ°´åˆ† $a_i - T$ å¿…é¡»é æš–æ°”è¾…åŠ©ã€‚
    * **å…³é”®ç‚¹ (é¢å¤–è´¡çŒ®)ï¼š** æš–æ°”æ¯åˆ†é’Ÿçƒ˜å¹² $k$ï¼Œè‡ªç„¶çƒ˜å¹² $1$ã€‚ä½¿ç”¨æš–æ°”æ¯”è‡ªç„¶å¹²**å¤šå‡ºçš„é¢å¤–è´¡çŒ®**æ˜¯ $k - 1$ã€‚
    * è¯¥è¡£æœéœ€è¦æ”¾åœ¨æš–æ°”ä¸Šçš„æ—¶é—´ï¼š$t_i = \lceil \frac{a_i - T}{k - 1} \rceil$ã€‚
    * **ç»“è®ºï¼š** è‹¥æ‰€æœ‰è¡£æœéœ€è¦çš„æš–æ°”æ€»æ—¶é—´ $\sum t_i \le T$ï¼ˆå› ä¸ºæš–æ°”åªæœ‰ä¸€ä¸ªï¼‰ï¼Œåˆ™ $T$ åˆ†é’Ÿå¯è¡Œã€‚



---

### 3. Python å‚è€ƒä»£ç 

```python
import sys

def solve():
    # 1. å¿«é€Ÿè¯»å…¥
    data = sys.stdin.read().split()
    if not data: return
    n = int(data[0])
    a = [int(x) for x in data[1:n+1]]
    k = int(data[n+1])

    # 2. ç‰¹åˆ¤ï¼šå¦‚æœæš–æ°”æ•ˆç‡å’Œè‡ªç„¶å¹²ä¸€æ ·ï¼Œç›´æ¥è¿”å›æœ€å¤§å€¼
    max_water = max(a)
    if k == 1:
        print(max_water)
        return

    # 3. äºŒåˆ†æœç´¢
    left = 1
    right = max_water
    ans = max_water
    
    while left <= right:
        mid = (left + right) // 2  # å°è¯•åœ¨ mid åˆ†é’Ÿå†…å®Œæˆ
        needed_radiator_time = 0
        possible = True
        
        for water in a:
            if water > mid:
                # å‰©ä½™éœ€è¦é æš–æ°”å¤šå‡ºæ¥çš„éƒ¨åˆ†: water - mid
                # æš–æ°”æ¯åˆ†é’Ÿæ¯”è‡ªç„¶å¹²å¤šè´¡çŒ®: k - 1
                # å‘ä¸Šå–æ•´å…¬å¼ï¼š(A + B - 1) // B
                needed_radiator_time += (water - mid + (k - 1) - 1) // (k - 1)
                
                # ä¼˜åŒ–ï¼šå¦‚æœæš–æ°”æ—¶é—´å·²ç»è¶…è¿‡ midï¼Œæå‰ç»“æŸå¾ªç¯
                if needed_radiator_time > mid:
                    possible = False
                    break
        
        if possible:
            ans = mid         # è®°å½•å½“å‰å¯è¡Œè§£
            right = mid - 1   # å°è¯•æ›´çŸ­çš„æ—¶é—´
        else:
            left = mid + 1    # æ—¶é—´ä¸å¤Ÿï¼Œå‘å¤§èŒƒå›´æ‰¾
            
    print(ans)

if __name__ == "__main__":
    solve()

x*k + ()